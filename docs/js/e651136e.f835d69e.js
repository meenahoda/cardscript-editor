(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["e651136e"],{"70e2":function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("q-page",{attrs:{padding:""}},[e("q-card",[e("q-card-section",[e("div",{staticClass:"text-caption text-uppercase text-grey"},[t._v("Meta")]),e("q-input",{attrs:{label:"Title"},model:{value:t.cardscript.templateMeta.title,callback:function(i){t.$set(t.cardscript.templateMeta,"title",i)},expression:"cardscript.templateMeta.title"}})],1),e("q-separator"),e("q-card-section",[e("div",{staticClass:"text-caption text-uppercase text-grey"},[t._v("Body")]),e("q-list",[e("draggable",{attrs:{handle:".drag-handle",options:{animation:150}},model:{value:t.cardscriptBody,callback:function(i){t.cardscriptBody=i},expression:"cardscriptBody"}},t._l(t.cardscriptBody,(function(i,a){return e("q-item",{key:a,attrs:{dense:""}},[e("q-item-section",{attrs:{side:""}},[e("q-icon",{staticClass:"drag-handle",staticStyle:{cursor:"move"},attrs:{color:"grey-8",name:"drag_indicator"}})],1),e("q-item-section",[e("q-item-label",[t._v(t._s(i.type)+" "+t._s(i.id?"/ "+i.id:""))])],1),e("q-item-section",{attrs:{side:""}},[e("div",{staticClass:"text-grey-8 q-gutter-xs"},[e("q-btn",{attrs:{size:"12px",flat:"",dense:"",round:"",icon:"settings"},on:{click:function(e){return t.editComponent(i,a,"body")}}}),e("q-btn",{attrs:{size:"12px",flat:"",dense:"",round:"",icon:"delete"},on:{click:function(i){return t.deleteComponent(a,"body")}}})],1)])],1)})),1)],1)],1),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{attrs:{label:"Add",color:"primary"},on:{click:t.addBody}})],1),e("q-separator"),e("q-card-section",[e("div",{staticClass:"text-caption text-uppercase text-grey"},[t._v("Actions")]),e("q-list",[e("draggable",{attrs:{handle:".drag-handle",options:{animation:150}},model:{value:t.cardscriptActions,callback:function(i){t.cardscriptActions=i},expression:"cardscriptActions"}},t._l(t.cardscriptActions,(function(i,a){return e("q-item",{key:a,attrs:{dense:""}},[e("q-item-section",{attrs:{side:""}},[e("q-icon",{staticClass:"drag-handle",staticStyle:{cursor:"move"},attrs:{color:"grey-8",name:"drag_indicator"}})],1),e("q-item-section",[e("q-item-label",[t._v(t._s(i.type)+" "+t._s(i.id?"/ "+i.id:""))])],1),e("q-item-section",{attrs:{side:""}},[e("div",{staticClass:"text-grey-8 q-gutter-xs"},[e("q-btn",{attrs:{size:"12px",flat:"",dense:"",round:"",icon:"settings"},on:{click:function(e){return t.editComponent(i,a,"actions")}}}),e("q-btn",{attrs:{size:"12px",flat:"",dense:"",round:"",icon:"delete"},on:{click:function(i){return t.deleteComponent(a,"actions")}}})],1)])],1)})),1)],1)],1),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{attrs:{label:"Add",color:"primary"},on:{click:t.addActions}})],1)],1),e("add-component-dialog",{attrs:{show:t.addDialogShow,arrayEditing:t.arrayEditing},on:{add:t.addComponent,cancel:function(i){t.addDialogShow=!1}}}),e("edit-component-dialog",{attrs:{show:t.editDialog.show,arrayEditing:t.arrayEditing,index:t.editDialog.idx,component:t.editDialog.component},on:{save:t.editComponentSave,close:function(i){t.editDialog.show=!1}}})],1)},n=[],o=(e("f751"),e("310e")),s=e.n(o),r=e("d192"),c=e("8f9d"),d={name:"PageEdit",components:{draggable:s.a,AddComponentDialog:r["a"],EditComponentDialog:c["a"]},data:function(){return{cardId:null,addDialogShow:!1,arrayEditing:null,editDialog:{show:!1,idx:null,component:{}}}},methods:{addBody:function(){this.addDialogShow=!0,this.arrayEditing="body"},addActions:function(){this.addDialogShow=!0,this.arrayEditing="actions"},addComponent:function(t){t&&this.arrayEditing&&(this.$store.commit("app/addComponent",{type:t,array:this.arrayEditing,$cardscript:this.$cardscript}),this.addDialogShow=!1)},editComponent:function(t,i,e){this.editDialog.show=!0,this.editDialog.idx=i,this.arrayEditing=e,this.editDialog.component=t},editComponentSave:function(t){this.$store.commit("app/editComponent",{idx:this.editDialog.idx,array:this.arrayEditing,component:t}),this.editDialog.show=!1},deleteComponent:function(t,i){var e=this;this.$q.dialog({title:"Confirm",message:"Are you sure you want to remove this component?",cancel:!0,persistent:!0}).onOk((function(){e.$store.commit("app/deleteComponent",{idx:t,array:i})}))}},mounted:function(){this.cardId=this.$route.params.cardId;var t=this.cards[this.cardId];t&&(this.cardscript=t)},computed:{cards:function(){return this.$store.state.app.cards},cardscript:{get:function(){return this.$store.state.app.cardscript},set:function(t){this.$store.commit("app/setCardscript",t)}},cardscriptBody:{get:function(){return this.$store.state.app.cardscript.body},set:function(t){var i=Object.assign({},this.cardscript);i.body=t,this.cardscript=i}},cardscriptActions:{get:function(){return this.$store.state.app.cardscript.actions},set:function(t){var i=Object.assign({},this.cardscript);i.actions=t,this.cardscript=i}}}},l=d,p=e("2877"),u=Object(p["a"])(l,a,n,!1,null,null,null);i["default"]=u.exports},d192:function(t,i,e){"use strict";var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("q-dialog",{attrs:{persistent:""},model:{value:t.show,callback:function(i){t.show=i},expression:"show"}},[e("q-card",{staticStyle:{"min-width":"350px"}},[e("q-card-section",[e("div",{staticClass:"text-caption text-uppercase text-grey"},[t._v("Add Component")])]),e("q-card-section",[e("q-select",{attrs:{options:t.typeOptions[t.arrayEditing],label:"Type"},model:{value:t.type,callback:function(i){t.type=i},expression:"type"}})],1),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{attrs:{label:"Cancel",color:"primary",outline:""},on:{click:function(i){return t.$emit("cancel")}}}),e("q-btn",{attrs:{label:"Add",color:"primary"},on:{click:function(i){return t.$emit("add",t.type)}}})],1)],1)],1)},n=[],o=(e("ac6a"),e("cadf"),e("06db"),e("456d"),e("55dd"),{name:"ComponentAddDialog",props:{show:Boolean,arrayEditing:String},data:function(){return{type:null,typeOptions:{body:Object.keys(this.$cardscript["body"]).filter((function(t){return"Tab"!==t})).sort(),actions:Object.keys(this.$cardscript["actions"]).sort()}}}}),s=o,r=e("2877"),c=Object(r["a"])(s,a,n,!1,null,null,null);i["a"]=c.exports}}]);