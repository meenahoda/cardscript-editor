(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2d0d61fc"],{"70e2":function(t,i,a){"use strict";a.r(i);var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("q-page",{attrs:{padding:""}},[a("q-card",[a("q-card-section",[a("div",{staticClass:"text-caption text-uppercase text-grey"},[t._v("Meta")]),a("q-input",{attrs:{label:"Title"},model:{value:t.cardscript.templateMeta.title,callback:function(i){t.$set(t.cardscript.templateMeta,"title",i)},expression:"cardscript.templateMeta.title"}})],1),a("q-separator"),a("q-card-section",[a("div",{staticClass:"text-caption text-uppercase text-grey"},[t._v("Body")]),a("q-list",[a("draggable",{attrs:{handle:".drag-handle",options:{animation:150}},model:{value:t.cardscriptBody,callback:function(i){t.cardscriptBody=i},expression:"cardscriptBody"}},t._l(t.cardscriptBody,(function(i,e){return a("q-item",{key:e,attrs:{dense:""}},[a("q-item-section",{attrs:{side:""}},[a("q-icon",{staticClass:"drag-handle",staticStyle:{cursor:"move"},attrs:{color:"grey-8",name:"drag_indicator"}})],1),a("q-item-section",[a("q-item-label",[t._v(t._s(i.type)+" "+t._s(i.id?"/ "+i.id:""))])],1),a("q-item-section",{attrs:{side:""}},[a("div",{staticClass:"text-grey-8 q-gutter-xs"},[a("q-btn",{attrs:{size:"12px",flat:"",dense:"",round:"",icon:"settings"},on:{click:function(a){return t.editComponent(i,e,"body")}}}),a("q-btn",{attrs:{size:"12px",flat:"",dense:"",round:"",icon:"delete"},on:{click:function(i){return t.deleteComponent(e,"body")}}})],1)])],1)})),1)],1)],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{label:"Add",color:"primary"},on:{click:t.addBody}})],1),a("q-separator"),a("q-card-section",[a("div",{staticClass:"text-caption text-uppercase text-grey"},[t._v("Actions")]),a("q-list",[a("draggable",{attrs:{handle:".drag-handle",options:{animation:150}},model:{value:t.cardscriptActions,callback:function(i){t.cardscriptActions=i},expression:"cardscriptActions"}},t._l(t.cardscriptActions,(function(i,e){return a("q-item",{key:e,attrs:{dense:""}},[a("q-item-section",{attrs:{side:""}},[a("q-icon",{staticClass:"drag-handle",staticStyle:{cursor:"move"},attrs:{color:"grey-8",name:"drag_indicator"}})],1),a("q-item-section",[a("q-item-label",[t._v(t._s(i.type)+" "+t._s(i.id?"/ "+i.id:""))])],1),a("q-item-section",{attrs:{side:""}},[a("div",{staticClass:"text-grey-8 q-gutter-xs"},[a("q-btn",{attrs:{size:"12px",flat:"",dense:"",round:"",icon:"settings"},on:{click:function(a){return t.editComponent(i,e,"actions")}}}),a("q-btn",{attrs:{size:"12px",flat:"",dense:"",round:"",icon:"delete"},on:{click:function(i){return t.deleteComponent(e,"actions")}}})],1)])],1)})),1)],1)],1),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{label:"Add",color:"primary"},on:{click:t.addActions}})],1)],1),a("add-component-dialog",{attrs:{show:t.addDialogShow,arrayEditing:t.arrayEditing},on:{add:t.addComponent,cancel:function(i){t.addDialogShow=!1}}}),a("edit-component-dialog",{attrs:{show:t.editDialog.show,arrayEditing:t.arrayEditing,index:t.editDialog.idx,component:t.editDialog.component},on:{save:t.editComponentSave,close:function(i){t.editDialog.show=!1}}})],1)},n=[],o=(a("f751"),a("310e")),s=a.n(o),r=a("d192"),d=a("8f9d"),c={name:"PageEdit",components:{draggable:s.a,AddComponentDialog:r["a"],EditComponentDialog:d["a"]},data:function(){return{cardId:null,addDialogShow:!1,arrayEditing:null,editDialog:{show:!1,idx:null,component:{}}}},methods:{addBody:function(){this.addDialogShow=!0,this.arrayEditing="body"},addActions:function(){this.addDialogShow=!0,this.arrayEditing="actions"},addComponent:function(t){t&&this.arrayEditing&&(this.$store.commit("app/addComponent",{type:t,array:this.arrayEditing,$cardscript:this.$cardscript}),this.addDialogShow=!1)},editComponent:function(t,i,a){this.editDialog.show=!0,this.editDialog.idx=i,this.arrayEditing=a,this.editDialog.component=t},editComponentSave:function(t){this.$store.commit("app/editComponent",{idx:this.editDialog.idx,array:this.arrayEditing,component:t}),this.editDialog.show=!1},deleteComponent:function(t,i){var a=this;this.$q.dialog({title:"Confirm",message:"Are you sure you want to remove this component?",cancel:!0,persistent:!0}).onOk((function(){a.$store.commit("app/deleteComponent",{idx:t,array:i})}))}},mounted:function(){this.cardId=this.$route.params.cardId;var t=this.cards[this.cardId];t&&(this.cardscript=t)},computed:{cards:function(){return this.$store.state.app.cards},cardscript:{get:function(){return this.$store.state.app.cardscript},set:function(t){this.$store.commit("app/setCardscript",t)}},cardscriptBody:{get:function(){return this.$store.state.app.cardscript.body},set:function(t){var i=Object.assign({},this.cardscript);i.body=t,this.cardscript=i}},cardscriptActions:{get:function(){return this.$store.state.app.cardscript.actions},set:function(t){var i=Object.assign({},this.cardscript);i.actions=t,this.cardscript=i}}}},l=c,p=a("2877"),u=Object(p["a"])(l,e,n,!1,null,null,null);i["default"]=u.exports}}]);